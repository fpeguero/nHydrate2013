//------------------------------------------------------------------------------
// <auto-generated>
//    This code was generated from a template.
//
//    Creador : Administrator
//    Dominio : OSISPC
//    Pc      : OSISPC
//    Fecha   : 5/4/2014 6:24:25 PM
//
//    Manual changes to this file may cause unexpected behavior in your application.
//    Manual changes to this file will be overwritten if the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using System; 
using System.Collections.Generic; 
using System.ComponentModel.DataAnnotations;
using System.Globalization;
using System.Linq;
using FluentValidation;
using FluentValidation.Attributes;
using FluentValidation.Validators;
using OSIS.PEPPAM.Mvc.Models;
using OSIS.PEPPAM.Mvc.UI;

namespace OSIS.PEPPAM.Mvc.Models
{
    [Validator(typeof (Horario_TransValidator))]
    public partial class Horario_TransModel
    {
        // Add your custom members here 

        public virtual string EntityDisplayName2
        {
            get
            {
                return (this.Horario_Fecha_Desde.ToString("MMMM-dd", new CultureInfo("es-DO")) + " - " +
                        this.Horario_Fecha_Hasta.ToString("MMMM-dd", new CultureInfo("es-DO")));
            }
        }


        [OSIS.PEPPAM.Mvc.Infrastructure.Mvc.DisplayName("Horario_Trans", "Zona_Secuencia")]
        public int Zona_Secuencia { get; set; }

        //public virtual string EntityDisplayName2
        //{
        //    get
        //    {
        //        return (this.Horario_Fecha_Desde.ToString("MMMM-dd", new CultureInfo("es-DO")) + " - " + this.Horario_Fecha_Hasta.ToString("MMMM-dd", new CultureInfo("es-DO")));
        //    }
        //}





    }

    public partial class Horario_TransValidator
    {

        public Horario_TransValidator()
        {


            RuleFor(x => x.Ruta_Secuencia).GreaterThan(0).WithMessage(Messages.GetOrSetMensaje("MENSAJE_ERROR_NOTNULL"));


            Validators();

        }

        // Add your custom members here 
    }


    [Validator(typeof(HorarioTurnosModelValidator))]
    public class HorarioTurnosModel
    {
        [OSIS.PEPPAM.Mvc.Infrastructure.Mvc.DisplayName("Horario_Trans", "Horario_Secuencia")]
        public int Horario_Secuencia { get; set; }
        
        [OSIS.PEPPAM.Mvc.Infrastructure.Mvc.DisplayName("Horario_Trans", "Semana_Codigo")]
        public int Semana_Codigo { get; set; }

        [OSIS.PEPPAM.Mvc.Infrastructure.Mvc.DisplayName("Horario_Trans", "Ruta_Secuencia")]
        public int Ruta_Secuencia { get; set; }

        [OSIS.PEPPAM.Mvc.Infrastructure.Mvc.DisplayName("Horario_Trans", "Horario_Numero")]
        public int? Horario_Numero { get; set; }


        [OSIS.PEPPAM.Mvc.Infrastructure.Mvc.DisplayName("Horario_Trans", "Zona_Secuencia")]
        public int Zona_Secuencia { get; set; }

        public List<TurnosModel> Turnos { get; set; }

    }

    public class HorarioTurnosModelValidator : AbstractValidator<HorarioTurnosModel>
    {
        public HorarioTurnosModelValidator()
        {
            RuleFor(x => x.Ruta_Secuencia).GreaterThan(0).WithMessage(Messages.GetOrSetMensaje("MENSAJE_ERROR_NOTNULL"));

            RuleFor(x => x.Turnos).Must( x => x.Any(y => y.IsSelected) ).WithMessage(Messages.GetOrSetMensaje("MENSAJE_ERROR_SELECCIONAR_TURNOS"));
        }
    }

     [Validator(typeof(TurnosModelValidator))]
    public class TurnosModel
    {
        [OSIS.PEPPAM.Mvc.Infrastructure.Mvc.DisplayName("Horario_Turno_Trans", "Horario_Turno_Secuencia")]
        public int Horario_Turno_Secuencia { get; set; }

        [OSIS.PEPPAM.Mvc.Infrastructure.Mvc.DisplayName("Horario_Turno_Trans", "Horario_Secuencia")]
        public int Horario_Secuencia { get; set; }

        [OSIS.PEPPAM.Mvc.Infrastructure.Mvc.DisplayName("Horario_Turno_Trans", "Turno_Descripcion")]
        public String Turno_Descripcion { get; set; }

        [OSIS.PEPPAM.Mvc.Infrastructure.Mvc.DisplayName("Horario_Turno_Trans", "Turno_Hora_Desde")]
        public String Turno_Hora_Desde { get; set; }

        [OSIS.PEPPAM.Mvc.Infrastructure.Mvc.DisplayName("Horario_Turno_Trans", "Turno_Hora_Hasta")]
        public String Turno_Hora_Hasta { get; set; }

        [OSIS.PEPPAM.Mvc.Infrastructure.Mvc.DisplayName("Horario_Turno_Trans", "Turno_Cantidad_Publicadores")]
        public int Turno_Cantidad_Publicadores { get; set; }

        public List<DiasModel> Dias { get; set; }
        public bool IsSelected { get; set; }
    }

    public class TurnosModelValidator : AbstractValidator<TurnosModel>
    {
        public TurnosModelValidator()
        {
            RuleFor(x => x.Turno_Descripcion).NotNull().When(x => x.IsSelected).WithMessage(Messages.GetOrSetMensaje("MENSAJE_ERROR_NOTNULL"));
            RuleFor(x => x.Turno_Hora_Desde).NotNull().When(x => x.IsSelected).WithMessage(Messages.GetOrSetMensaje("MENSAJE_ERROR_NOTNULL"));
            RuleFor(x => x.Turno_Hora_Hasta).NotNull().When(x => x.IsSelected).WithMessage(Messages.GetOrSetMensaje("MENSAJE_ERROR_NOTNULL"));
            RuleFor(x => x.Turno_Cantidad_Publicadores).NotNull().When(x => x.IsSelected).WithMessage(Messages.GetOrSetMensaje("MENSAJE_ERROR_NOTNULL"));
            RuleFor(x => x.Turno_Cantidad_Publicadores).GreaterThan(0).When(x => x.IsSelected).WithMessage(Messages.GetOrSetMensaje("MENSAJE_ERROR_NOTNULL"));


            RuleFor(x => x.Dias).Must(x => x.Any(y => y.IsSelected)).When(x => x.IsSelected).WithMessage(Messages.GetOrSetMensaje("MENSAJE_ERROR_SELECCIONAR_DIAS"));
        }
    }


    public class DiasModel
    {
        [OSIS.PEPPAM.Mvc.Infrastructure.Mvc.DisplayName("Dias_Cata", "Dia_Secuencia")]
        public int Dia_Secuencia { get; set; }

        [OSIS.PEPPAM.Mvc.Infrastructure.Mvc.DisplayName("Dias_Cata", "Dia_Descripcion")]
        public String Dia_Descripcion { get; set; }

        [OSIS.PEPPAM.Mvc.Infrastructure.Mvc.DisplayName("Dias_Cata", "Dia_Orden")]
        public int Dia_Orden { get; set; }

        public bool IsSelected { get; set; } 
    }



}


